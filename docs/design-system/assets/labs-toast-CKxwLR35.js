class i extends HTMLElement{static get observedAttributes(){return["variant"]}attributeChangedCallback(t,a,e){t==="variant"&&this._updateVariant()}_updateVariant(){if(!this._actionBtn)return;const t=(this.getAttribute("variant")||"primary").toLowerCase();this._actionBtn.classList.remove("primary","secondary","destructive"),["primary","secondary","destructive"].includes(t)?this._actionBtn.classList.add(t):this._actionBtn.classList.add("primary")}constructor(){super(),this._shadow=this.attachShadow({mode:"open"});const t=document.createElement("div");t.className="toast",t.setAttribute("role","status"),t.setAttribute("aria-live","polite"),t.setAttribute("aria-atomic","true");const a=document.createElement("div");a.className="message",this._message=a;const e=document.createElement("div");e.className="actions";const r=document.createElement("button");r.className="action",r.setAttribute("part","action"),r.type="button",r.textContent="Undo",this._actionBtn=r;const o=document.createElement("button");o.className="close",o.setAttribute("part","close"),o.type="button",o.setAttribute("aria-label","Dismiss"),o.textContent="âœ•",this._closeBtn=o,e.appendChild(r),e.appendChild(o),t.appendChild(a),t.appendChild(e);const s=document.createElement("style");s.textContent=`:host{position:fixed;left:50%;bottom:var(--toast-bottom,24px);transform:translateX(-50%);z-index:9999;display:block;font-family:var(--font-family-base, inherit)}
.toast{display:flex;align-items:center;gap:12px;min-width:200px;max-width:640px;padding:12px 16px;border-radius:10px;background:var(--color-surface,#fff);color:var(--color-on-surface);box-shadow:var(--elevation-1, 0 6px 20px rgba(0,0,0,.12));border:1px solid color-mix(in srgb, var(--color-on-surface) 6%, transparent);opacity:0;pointer-events:none;transform:translateY(8px);transition:opacity .18s ease,transform .18s ease}
.toast.show{opacity:1;pointer-events:auto;transform:translateY(0)}
.message{flex:1;font-size:var(--font-size-toast, 0.95rem);line-height:var(--line-height-toast, 1.3)}
.actions{display:flex;align-items:center;gap:8px}
.action{background:transparent;border:0;padding:6px 10px;border-radius:8px;color:var(--color-primary);cursor:pointer;font-weight:var(--font-weight-toast-action, 600);font-size:var(--font-size-toast-action, 0.9rem)}
.action.primary{background:var(--color-primary);color:var(--color-on-primary);border:none;}
.action.primary:hover{background:color-mix(in srgb, var(--color-primary) 85%, black);}
.action.secondary{background:transparent;color:var(--color-on-surface);border:1px solid var(--color-outline, var(--color-primary));}
.action.secondary:hover{background:color-mix(in srgb, var(--color-primary) 6%, transparent);}
.action.destructive{background:var(--color-error, #b5005a);color:var(--on-error, #fff);border:none;}
.action.destructive:hover{background:color-mix(in srgb, var(--color-error, #b5005a) 90%, black);}
.action:focus{outline:2px solid color-mix(in srgb, var(--color-primary, var(--color-accent, var(--color-on-surface))) 20%, transparent);outline-offset:2px}
.close{background:transparent;border:0;padding:6px 8px;border-radius:8px;color:var(--color-on-surface);cursor:pointer}
/* Hover + focus visual affordances for close button inside shadow DOM */
.close:hover{background-color:var(--color-primary-25, rgba(0,0,0,0.06));}
.close:focus{outline:2px solid color-mix(in srgb, var(--color-primary, var(--color-accent, var(--color-on-surface))) 20%, transparent);outline-offset:2px}
`,this._shadow.appendChild(s),this._shadow.appendChild(t),this._container=t,this._timeout=null,this._onAction=this._onAction.bind(this),this._onClose=this._onClose.bind(this)}connectedCallback(){this._actionBtn.addEventListener("click",this._onAction),this._closeBtn.addEventListener("click",this._onClose),this._updateVariant()}disconnectedCallback(){this._actionBtn.removeEventListener("click",this._onAction),this._closeBtn.removeEventListener("click",this._onClose),this._clearTimeout()}show(t,{actionText:a="Undo",duration:e=5e3}={}){this._message.textContent=t,this._actionBtn.textContent=a,this._container.classList.add("show"),this._clearTimeout(),e>0&&(this._timeout=setTimeout(()=>this.hide(),e)),this.dispatchEvent(new CustomEvent("show",{bubbles:!0,composed:!0}))}hide(){this._container.classList.remove("show"),this._clearTimeout(),this.dispatchEvent(new CustomEvent("dismiss",{bubbles:!0,composed:!0}))}_onAction(){this.dispatchEvent(new CustomEvent("action",{detail:{message:this._message.textContent},bubbles:!0,composed:!0})),this.hide()}_onClose(){this.hide()}_clearTimeout(){this._timeout&&(clearTimeout(this._timeout),this._timeout=null)}}customElements.get("labs-toast")||customElements.define("labs-toast",i);
