const e=(()=>{const c=window.location.pathname,n=window.location.hostname;return console.log("ðŸ” Icon path debug:",{path:c,hostname:n,href:window.location.href}),n==="dreisdesign.github.io"?(console.log("ðŸš€ Force using GitHub Pages path: /labs/design-system/icons/"),"/labs/design-system/icons/"):c.includes("/labs/")?(console.log("âœ… Using GitHub Pages path: /labs/design-system/icons/"),"/labs/design-system/icons/"):c.includes("iframe.html")||c.includes("storybook")||window.parent!==window?(console.log("ðŸ  Using local Storybook path: /icons/"),"/icons/"):(console.log("ðŸ”§ Using default dev path: /design-system/icons/"),"/design-system/icons/")})(),d={add:e+"add--labs-icons.svg",add_comment:e+"add_comment--labs-icons.svg",apps:e+"apps--labs-icons.svg",bedtime:e+"bedtime--labs-icons.svg",bedtime_off:e+"bedtime_off--labs-icons.svg",cancel:e+"cancel--labs-icons.svg",change_circle:e+"change_circle--labs-icons.svg",check:e+"check--labs-icons.svg",close:e+"close--labs-icons.svg",code:e+"code--labs-icons.svg",comment:e+"comment--labs-icons.svg",content_copy:e+"content_copy--labs-icons.svg",delete_forever:e+"delete_forever--labs-icons.svg",edit:e+"edit--labs-icons.svg",rate_review:e+"rate_review--labs-icons.svg",settings:e+"settings--labs-icons.svg",undo:e+"undo--labs-icons.svg"};class h extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}static get observedAttributes(){return["name","width","height","color","style"]}attributeChangedCallback(n,t,a){this.render()}connectedCallback(){this.render(),this.themeObserver=new MutationObserver(n=>{n.forEach(t=>{t.type==="attributes"&&t.attributeName==="class"&&(t.target.classList.contains("theme-dark")||t.target.classList.contains("theme-light"))&&this.render()})}),this.themeObserver.observe(document.body,{attributes:!0,attributeFilter:["class"]})}disconnectedCallback(){this.themeObserver&&this.themeObserver.disconnect()}async render(){const n=this.getAttribute("name");let t=d[n];if(!t){this.shadowRoot.innerHTML="";return}const a=window.getComputedStyle(this),r=this.getAttribute("width")?this.getAttribute("width")+"px":a.width||"24px",l=this.getAttribute("height")?this.getAttribute("height")+"px":a.height||"24px";let s=this.getAttribute("color")||"#000";if(s.startsWith("var(")){const o=document.createElement("div");o.style.color=s,document.body.appendChild(o),s=getComputedStyle(o).color,document.body.removeChild(o)}(!s||s==="currentColor"||s.startsWith("var("))&&(s="#000");try{const o=await fetch(t);if(!o.ok)throw new Error("SVG fetch failed");let i=await o.text();i=i.replace(/fill="#[^"]*"/gi,`fill="${s}"`),i=i.replace(/fill='#[^']*'/gi,`fill='${s}'`),i=i.replace(/width="[^"]*"/gi,`width="${r}"`),i=i.replace(/height="[^"]*"/gi,`height="${l}"`),this.shadowRoot.innerHTML=i;return}catch{this.shadowRoot.innerHTML=`
        <div style="
          width: ${r};
          height: ${l};
          background-color: ${s};
          mask: url('${t}') no-repeat center / contain;
          -webkit-mask: url('${t}') no-repeat center / contain;
          display: inline-block;
        "></div>
      `}}}customElements.define("labs-icon",h);
