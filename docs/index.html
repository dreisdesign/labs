</div>

<footer style="margin-top:2.5rem; color:#888; font-size:0.95rem; text-align:right;">
</footer>
</body>
<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Labs</title>

  <!-- Favicons -->
  <link rel="icon" type="image/svg+xml" href="favicon.svg" />
  <link rel="icon" type="image/x-icon" href="favicon.ico">

  <!-- Web App Manifest -->
  <link rel="manifest" href="manifest.json" />

  <!-- PWA Meta Tags -->
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="Labs" />

  <!-- Theme Color -->
  <meta name="theme-color" content="#202F48" />

  <!-- Design system components for header controls -->
  <script type="module" src="design-system/components/labs-icon.js"></script>
  <script type="module" src="design-system/components/labs-button.js"></script>

  <style>
    :root {
      --bg: #f5f5f5;
      --text: #222;
      --accent: #2e2b74;
      --card-bg: #ffffff;
      --card-shadow: rgba(0, 0, 0, 0.1);
      --smoothie-fill: #202F48;
      /* dark logo color for light theme */
    }

    [data-theme="dark"] {
      --bg: #0f1720;
      --text: #f7f7fb;
      --accent: #9fb3ff;
      --card-bg: #0b1220;
      --card-shadow: rgba(0, 0, 0, 0.45);
      --smoothie-fill: #FBFBFD;
      /* light logo color for dark theme */
    }

    body {
      font-family:
        system-ui,
        -apple-system,
        sans-serif;
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
      line-height: 1.5;
      background: var(--bg);
      color: var(--text);
    }

    h1 {
      color: var(--accent);
      border-bottom: 2px solid var(--accent);
      padding-bottom: 0.5rem;
      margin-bottom: 2rem;
    }

    .projects {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 1.5rem;
    }

    @media (max-width: 768px) {
      body {
        margin: 1rem auto;
        padding: 0 1rem;
      }

      .projects {
        grid-template-columns: 1fr;
        gap: 1rem;
      }

      h1 {
        margin-bottom: 1.5rem;
      }
    }

    @media (min-width: 769px) and (max-width: 1024px) {
      .projects {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 1025px) {
      .projects {
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
      }
    }

    .project-card {
      background: var(--card-bg);
      border-radius: 12px;
      box-shadow: 0 2px 8px var(--card-shadow);
      text-decoration: none;
      color: inherit;
      display: block;
      transition: all 0.2s ease;
    }

    /* header layout */
    .page-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .header-controls {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .project-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
      text-decoration: none;
    }

    .project-content {
      display: flex;
      align-items: flex-start;
      gap: 1.5rem;
      padding: 1.5rem;
    }

    .project-icon {
      flex-shrink: 0;
      width: 48px;
      height: 48px;
    }

    .project-icon svg {
      width: 100%;
      height: 100%;
      border-radius: 8px;
    }

    .project-info {
      flex: 1;
    }

    .project-info h2 {
      margin: 0 0 0.5rem 0;
      color: var(--accent);
      font-size: 1.25rem;
    }

    .project-info p {
      color: #666;
      margin: 0 0 0.75rem 0;
      line-height: 1.5;
    }

    .project-link {
      color: var(--accent);
      font-weight: 500;
      font-size: 0.9rem;
    }

    /* Smoothie logo color override: force all paths to use the CSS variable */
    .smoothie-logo {
      width: 100%;
      max-width: 260px;
      height: auto;
      vertical-align: middle;
      display: inline-block;
    }

    .smoothie-logo * {
      fill: var(--smoothie-fill) !important;
    }

    /* small badge near title */
    .labs-badge {
      background: var(--accent);
      color: white;
      font-size: 0.65rem;
      font-weight: 600;
      padding: 3px 6px;
      border-radius: 999px;
      display: inline-block;
      line-height: 1;
      vertical-align: middle;
    }

    /* theme toggle button */
    .theme-toggle {
      border: 1px solid rgba(0, 0, 0, 0.08);
      background: transparent;
      color: inherit;
      padding: 6px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
    }

    @media (max-width: 480px) {
      .project-content {
        gap: 1rem;
        padding: 1.25rem;
      }

      .project-icon {
        width: 40px;
        height: 40px;
      }

      .project-info h2 {
        font-size: 1.1rem;
      }

      .project-info p {
        font-size: 0.9rem;
      }
    }
  </style>
</head>

<body>
  <header class="page-header" style="margin-bottom:1.5rem;">
    <h1 style="display:flex;align-items:center;gap:0.5rem;">Labs <span class="labs-badge" aria-hidden="true">beta</span>
    </h1>
    <div class="header-controls" style="display:flex; align-items:center; gap:0.75rem;">
      <span style="font-size:0.95rem;color:var(--text);">Powered by</span>
      <a id="smoothieLink" href="labs/" target="_blank" rel="noopener" style="display:inline-flex; align-items:center;">
        <!-- smoothie-dark.svg inlined and scaled responsively -->
        <svg viewBox="0 0 585 109" xmlns="http://www.w3.org/2000/svg" class="smoothie-logo">
          <g id="smoothie-dark">
            <path
              d="M38.8799 8.92773C44.1597 8.92773 49.3438 9.55187 54.4316 10.7998C59.5196 12.0478 63.8881 13.8239 67.5361 16.1279L66.2402 36.8643H51.2637L48.6719 19.7275C45.792 18.5756 42.816 18 39.7441 18C36.1922 18 33.1203 19.1521 30.5283 21.4561C28.0324 23.664 26.7843 26.4478 26.7842 29.8076C26.7842 33.3596 27.7917 36.1442 29.8076 38.1602C31.8236 40.1762 34.7518 42.1445 38.5918 44.0645L45.792 47.5195C51.84 50.3995 56.7365 53.3277 60.4805 56.3037C64.3203 59.1836 67.1041 62.4478 68.832 66.0957C70.656 69.6477 71.5684 73.9201 71.5684 78.9121C71.5683 84.576 70.128 89.6639 67.248 94.1758C64.464 98.5918 60.1916 102.095 54.4316 104.688C48.6717 107.279 41.3759 108.576 32.5439 108.576C27.168 108.576 21.5037 108 15.5518 106.848C9.69588 105.696 4.51192 103.776 0 101.088L0.864258 79.2002H16.1279L19.0078 97.3438C23.3278 98.7838 27.8885 99.5039 32.6885 99.5039C37.2001 99.5038 40.5121 98.3041 42.624 95.9043C44.736 93.4083 45.792 90.5277 45.792 87.2637C45.7919 83.8078 44.9757 81.1201 43.3438 79.2002C41.8078 77.2802 39.2163 75.4555 35.5684 73.7275L29.2324 70.7041C20.3044 66.4801 13.4882 61.8719 8.78418 56.8799C4.08025 51.888 1.72761 45.3122 1.72754 37.1523C1.72754 28.3205 4.99174 21.408 11.5195 16.416C18.1435 11.424 27.2639 8.92775 38.8799 8.92773Z"
              fill="#FBFBFD" />
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M232.977 33.2637C240.368 33.2637 246.897 34.8477 252.561 38.0156C258.32 41.0876 262.833 45.4077 266.097 50.9756C269.361 56.4476 270.992 62.8319 270.992 70.1279C270.992 77.4239 269.504 83.9519 266.528 89.7119C263.648 95.3757 259.377 99.8395 253.713 103.104C248.145 106.368 241.233 108 232.977 108C224.721 108 217.761 106.368 212.097 103.104C206.433 99.7435 202.16 95.1838 199.28 89.4238C196.4 83.6639 194.961 77.2319 194.961 70.1279C194.961 62.928 196.592 56.5921 199.856 51.1201C203.12 45.5522 207.584 41.1836 213.248 38.0156C219.008 34.8476 225.585 33.2637 232.977 33.2637ZM232.977 41.1836C229.809 41.1836 227.457 43.488 225.921 48.0957C224.481 52.6076 223.761 60.0958 223.761 70.5596C223.761 81.0236 224.481 88.56 225.921 93.168C227.457 97.7759 229.809 100.08 232.977 100.08C236.145 100.08 238.449 97.7759 239.889 93.168C241.425 88.56 242.192 81.0235 242.192 70.5596C242.192 60.0958 241.425 52.6076 239.889 48.0957C238.449 43.4879 236.144 41.1836 232.977 41.1836Z"
              fill="#FBFBFD" />
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M309.589 33.2637C316.981 33.2637 323.509 34.8477 329.173 38.0156C334.933 41.0876 339.445 45.4077 342.709 50.9756C345.973 56.4476 347.604 62.8319 347.604 70.1279C347.604 77.4239 346.117 83.9519 343.141 89.7119C340.261 95.3757 335.989 99.8395 330.325 103.104C324.757 106.367 317.845 108 309.589 108C301.333 108 294.373 106.368 288.709 103.104C283.045 99.7435 278.773 95.1838 275.893 89.4238C273.013 83.6639 271.573 77.2319 271.573 70.1279C271.573 62.928 273.205 56.5921 276.469 51.1201C279.733 45.5522 284.196 41.1836 289.86 38.0156C295.62 34.8476 302.197 33.2637 309.589 33.2637ZM309.589 41.1836C306.421 41.1836 304.069 43.488 302.533 48.0957C301.093 52.6076 300.373 60.0958 300.373 70.5596C300.373 81.0236 301.093 88.56 302.533 93.168C304.069 97.7759 306.421 100.08 309.589 100.08C312.757 100.08 315.061 97.7759 316.501 93.168C318.037 88.56 318.805 81.0235 318.805 70.5596C318.805 60.0958 318.037 52.6076 316.501 48.0957C315.061 43.4879 312.757 41.1837 309.589 41.1836Z"
              fill="#FBFBFD" />
            <path
              d="M428.149 3.45605L427.573 23.4717V44.6396C431.413 40.1279 434.917 37.1044 438.085 35.5684C441.349 34.0324 444.997 33.2637 449.029 33.2637C455.461 33.2637 460.741 35.3281 464.869 39.4561C469.093 43.488 471.205 49.4398 471.205 57.3115V85.9678C471.205 89.9036 471.254 93.5998 471.35 97.0557L477.032 98.2725L483.161 96.9121C483.257 93.3602 483.305 89.6641 483.305 85.8242V68.5439C483.305 64.608 483.257 61.3439 483.161 58.752C483.161 56.0641 483.065 53.2802 482.873 50.4004L475.097 49.1035V43.2002L508.505 33.2637L511.097 34.8477L510.665 56.3037V85.9678C510.665 89.9036 510.713 93.5998 510.809 97.0557L516.856 98.3516V105.696H437.509V98.3516L443.701 96.9121C443.797 93.4562 443.845 89.7601 443.845 85.8242V59.1836C443.845 55.2478 443.413 52.5115 442.549 50.9756C441.781 49.4399 440.197 48.6719 437.797 48.6719C436.357 48.6719 434.773 49.1524 433.045 50.1123C431.413 50.9763 429.733 52.2245 428.005 53.8564V85.9678C428.005 89.9038 428.053 93.6482 428.149 97.2002L433.621 98.3516V105.696H393.877V101.691C392.786 102.76 391.584 103.713 390.268 104.544C386.62 106.848 381.819 108 375.867 108C368.763 108 363.244 106.367 359.308 103.104C355.372 99.7435 353.403 94.2239 353.403 86.5439V78.9121C353.499 76.5121 353.548 73.9197 353.548 71.1357V46.3682H345.34V36.8643L355.132 35.5684L363.771 15.1201H380.907V35.5684H394.155V46.3682H380.907V84.96C380.907 88.224 381.58 90.6242 382.924 92.1602C384.268 93.6958 385.947 94.4638 387.963 94.4639C390.171 94.4639 392.524 93.504 395.02 91.584L398.619 94.8965C398.184 95.8324 397.701 96.7194 397.177 97.5615L400.501 96.7676C400.597 93.3118 400.646 89.664 400.646 85.8242V16.2725L392.869 14.832V8.35156L425.701 1.87207L428.149 3.45605Z"
              fill="#FBFBFD" />
            <path fill-rule="evenodd" clip-rule="evenodd"
              d="M554.04 33.2637C560.952 33.2637 566.664 34.7041 571.176 37.584C575.784 40.368 579.24 44.16 581.544 48.96C583.848 53.6639 585 58.9439 585 64.7998C585 66.3358 584.952 67.68 584.856 68.832C584.76 69.8879 584.568 71.0878 584.28 72.4316H544.248C545.016 79.4396 547.08 84.5283 550.44 87.6963C553.896 90.8641 557.736 92.4482 561.96 92.4482C565.608 92.4482 568.728 91.8242 571.32 90.5762C574.008 89.2322 576.36 87.5997 578.376 85.6797L583.992 91.1523C580.92 97.0081 576.696 101.28 571.32 103.968C566.04 106.656 559.848 108 552.744 108C545.544 108 539.112 106.512 533.448 103.536C527.88 100.56 523.464 96.2877 520.2 90.7197C516.936 85.0558 515.305 78.2879 515.305 70.416C515.305 64.176 516.408 58.7516 518.616 54.1436C520.824 49.5358 523.8 45.6959 527.544 42.624C531.288 39.456 535.464 37.1044 540.072 35.5684C544.68 34.0324 549.336 33.2637 554.04 33.2637ZM552.312 41.04C550.105 41.04 548.232 42.6718 546.696 45.9355C545.16 49.1995 544.297 55.2958 544.104 64.2236H550.872C554.328 64.2236 556.632 63.552 557.784 62.208C559.032 60.768 559.656 58.2241 559.656 54.5762C559.656 49.5846 558.888 46.0805 557.353 44.0645C555.913 42.0486 554.232 41.0401 552.312 41.04Z"
              fill="#FBFBFD" />
            <path
              d="M168.298 33.2637C176.17 33.2637 181.786 35.4242 185.146 39.7441C188.601 44.0641 190.33 50.4477 190.33 58.8955V85.9678C190.33 89.9037 190.378 93.5998 190.474 97.0557L196.521 98.3516V105.696H157.93V98.3516L163.401 96.9121C163.497 93.4562 163.546 89.7601 163.546 85.8242V60.9121C163.546 56.0161 163.065 52.7521 162.105 51.1201C161.145 49.4882 159.418 48.6719 156.922 48.6719C153.85 48.6719 150.778 49.824 147.706 52.1279C147.802 52.8959 147.85 53.7122 147.85 54.5762C147.946 55.44 147.994 56.3518 147.994 57.3115V85.9678C147.994 89.9038 148.042 93.6482 148.138 97.2002L153.609 98.3516V105.696H114.874V98.3516L121.065 96.7676C121.161 93.4078 121.21 89.76 121.21 85.8242V60.9121C121.21 56.4961 120.73 53.3758 119.77 51.5518C118.905 49.632 117.082 48.6719 114.298 48.6719C112.858 48.6719 111.37 49.0078 109.834 49.6797C108.298 50.3517 106.81 51.2165 105.37 52.2725V85.9678C105.37 89.9038 105.418 93.6482 105.514 97.2002L110.985 98.3516V105.696H71.2422V98.3516L77.8662 96.7676C77.9622 93.3118 78.0098 89.664 78.0098 85.8242V60.0479C78.0098 58.4161 77.9622 56.8803 77.8662 55.4404C77.8662 54.0005 77.7701 52.3202 77.5781 50.4004L69.8018 49.1035V43.2002L101.626 33.2637L104.218 34.8477L104.938 44.7842C108.297 40.7522 111.658 37.824 115.018 36C118.378 34.176 122.17 33.2637 126.394 33.2637C136.57 33.2637 143.194 37.44 146.266 45.792C150.297 40.8002 153.994 37.4885 157.354 35.8564C160.714 34.1284 164.362 33.2637 168.298 33.2637Z"
              fill="#FBFBFD" />
            <path
              d="M496.696 0C500.344 0 503.465 1.15206 506.057 3.45605C508.649 5.76001 509.944 8.73589 509.944 12.3838C509.944 15.9357 508.648 18.9116 506.057 21.3115C503.465 23.6155 500.344 24.7676 496.696 24.7676C493.048 24.7675 489.929 23.6154 487.337 21.3115C484.745 18.9115 483.448 15.9357 483.448 12.3838C483.448 8.73588 484.745 5.76001 487.337 3.45605C489.929 1.1522 493.049 8.35189e-05 496.696 0Z"
              fill="#FBFBFD" />
          </g>
        </svg>
      </a>
    </div>
  </header>
  <!-- theme toggle (moved from header) -->
  <div style="position:fixed; bottom:20px; right:20px; z-index:9999;">
    <labs-button id="themeToggle" class="labs-theme-toggle pad-theme-toggle" variant="icon" aria-label="Toggle theme"
      style="height:40px;width:40px;min-width:40px;min-height:40px;padding:0;display:flex;align-items:center;justify-content:center;">
      <labs-icon id="themeIcon" slot="icon-left" name="bedtime" class="pad-icon"
        style="color:var(--color-on-surface);"></labs-icon>
    </labs-button>
  </div>
  <div class="projects">
    <a href="timer/" class="project-card">
      <div class="project-content">
        <div class="project-icon">
          <svg width="48" height="48" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="32" height="32" fill="#202F48" rx="6" />
            <path d="M8.53 10.45C8.53 7.51 10.9 5.12 13.87 5.12H23.47V11.95H8.53V10.45Z" fill="#ffffff" />
            <path
              d="M21.33 19.49V14.08H9.6C9.01 14.08 8.53 14.56 8.53 15.15V25.88C8.53 26.47 9.01 26.95 9.6 26.95H15.36V20.48H20.27C20.86 20.48 21.33 20.01 21.33 19.49Z"
              fill="#ffffff" />
          </svg>
        </div>
        <div class="project-info">
          <h2>Focus Timer</h2>
          <p>
            A minimal Focus Timer for enhanced focus and productivity.
            Features perfect circular progress indicators and integrated focus
            music.
          </p>
          <span class="project-link">Open App →</span>
        </div>
      </div>
    </a>

    <a href="note/" class="project-card">
      <div class="project-content">
        <div class="project-icon">
          <svg width="48" height="48" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="32" height="32" fill="#202F48" rx="6" />
            <path
              d="M9.28 6.05C11.45 5 14.0 5.32 15.55 7.34L16.35 8.64L24.32 25.17L22.96 25.81C20.82 26.85 18.27 26.54 16.72 24.52L8.35 7.63C8.13 7.18 8.35 6.62 8.9 6.32L9.28 6.05Z"
              fill="#ffffff" />
            <path d="M14.11 24C14.25 24.28 14.4 24.55 14.57 24.8H7.04V9.23L14.11 24Z" fill="#ffffff" />
            <path d="M24.96 22.12L18.18 7.9C18.07 7.67 17.95 7.45 17.82 7.23H24.96V22.12Z" fill="#ffffff" />
          </svg>
        </div>
        <div class="project-info">
          <h2>DailyNote</h2>
          <p>
            A simple note-taking app that clears at the end of each day.
            Perfect for daily thoughts, tasks, or reminders.
          </p>
          <span class="project-link">Open App →</span>
        </div>
      </div>
    </a>

    <a href="tracker/" class="project-card">
      <div class="project-content">
        <div class="project-icon">
          <svg width="48" height="48" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="32" height="32" fill="#202F48" rx="6" />
            <path d="M19.41 27.73H13.65C13.06 27.73 12.59 27.27 12.59 26.67V14.75H19.41V27.73Z" fill="#ffffff" />
            <path d="M25.6 7.47C25.6 10.41 23.21 12.8 20.27 12.8H6.4V7.04C6.4 6.45 6.87 5.97 7.47 5.97H25.6V7.47Z"
              fill="#ffffff" />
          </svg>
        </div>
        <div class="project-info">
          <h2>Tracker</h2>
          <p>
            A simple app that helps you count and track activities with
            timestamps. Features dark/light themes and smooth animations.
          </p>
          <span class="project-link">Open App →</span>
        </div>
      </div>
    </a>

    <a href="pad/" class="project-card">
      <div class="project-content">
        <div class="project-icon">
          <svg width="48" height="48" viewBox="0 0 150 150" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="150" height="150" fill="#202F48" />
            <path
              d="M110 50C110 36.1929 98.8071 25 85 25H40V37C40 46.1689 47.3293 53.6554 56.4961 53.8506L80.5703 54.3633C84.143 54.4393 86.9999 57.3572 87 60.9307C87 64.5587 84.0587 67.5 80.4307 67.5H45.5C42.4624 67.5 40 69.9624 40 73V120.312C40 122.901 42.2386 125 45 125H72V96H85C98.8071 96 110 84.8071 110 71V50Z"
              fill="white" />
          </svg>
        </div>
        <div class="project-info">
          <h2>Pad</h2>
          <p>
            A minimalist digital drawing pad optimized for Apple Pencil on iPad.
            Features pressure-sensitive drawing and design system integration.
          </p>
          <span class="project-link">Open App →</span>
        </div>
      </div>
    </a>

    <a href="today-list/" class="project-card">
      <div class="project-content">
        <div class="project-icon">
          <svg width="48" height="48" viewBox="0 0 32 33" fill="none" xmlns="http://www.w3.org/2000/svg">
            <rect width="32" height="32" transform="translate(0 0.946655)" fill="#202F48" />
            <path d="M19.4132 28.68H13.6532C13.0641 28.68 12.5866 28.2024 12.5866 27.6133V16.3067H19.4132V28.68Z"
              fill="white" />
            <path
              d="M6.3999 8.41332C6.3999 11.3588 8.78772 13.7467 11.7332 13.7467H25.5999V7.98666C25.5999 7.39755 25.1223 6.91999 24.5332 6.91999H6.3999V8.41332Z"
              fill="white" />
          </svg>
        </div>
        <div class="project-info">
          <h2>Today List</h2>
          <p>
            A small todo-style Today List demo built with the Labs design system.
            Add, edit, and undo deletes — persisted locally.
          </p>
          <span class="project-link">Open Demo →</span>
        </div>
      </div>
    </a>
  </div>

  <!-- Service Worker Registration -->
  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", async () => {
        // Avoid registering the service worker during local development
        const host = window.location.hostname;
        const port = window.location.port;
        if (host === 'localhost' || host === '127.0.0.1' || port === '8000' || port === '6006') {
          console.log('Skipping service worker registration in local dev environment.');
          return;
        }

        const swUrl = './sw.js?v=3';
        try {
          const head = await fetch(swUrl, { method: 'HEAD' });
          if (!head.ok) {
            console.log('SW script not found (skipping registration):', head.status);
            return;
          }
        } catch (e) {
          console.log('SW script HEAD check failed (skipping registration):', e);
          return;
        }

        try {
          const registration = await navigator.serviceWorker.register(swUrl);
          console.log('SW registered: ', registration);

          // If there's a waiting worker, try to activate it immediately
          if (registration.waiting) {
            try { registration.waiting.postMessage({ type: 'SKIP_WAITING' }); } catch (e) { }
          }

          registration.addEventListener('updatefound', () => {
            const newWorker = registration.installing;
            if (!newWorker) return;
            newWorker.addEventListener('statechange', () => {
              if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                try { newWorker.postMessage({ type: 'SKIP_WAITING' }); } catch (e) { }
              }
            });
          });
        } catch (registrationError) {
          console.log('SW registration failed: ', registrationError);
        }
      });
    }

    // PWA Install Prompt
    let deferredPrompt;
    window.addEventListener("beforeinstallprompt", (e) => {
      e.preventDefault();
      deferredPrompt = e;
      console.log("PWA install prompt available");
    });
  </script>
  <script>
    (function () {
      var link = document.getElementById('smoothieLink');
      if (!link) return;
      var localUrl = 'http://localhost:6006/';
      var publicUrl = '..................../design-system/';
      try {
        var host = window.location.hostname;
        // prefer local when viewing docs on localhost or when port 6006 is present
        if (host === 'localhost' || host === '127.0.0.1' || window.location.port === '6006') {
          link.href = localUrl;
        } else {
          link.href = publicUrl;
        }
      } catch (e) {
        link.href = publicUrl;
      }
    })();
  </script>
  <script>
    (function () {
      const root = document.documentElement;
      const toggle = document.getElementById('themeToggle');
      const themeIcon = document.getElementById('themeIcon');
      const saved = localStorage.getItem('labs-theme');
      const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      let theme = saved || (prefersDark ? 'dark' : 'light');
      function applyTheme(t) {
        if (t === 'dark') root.setAttribute('data-theme', 'dark'); else root.removeAttribute('data-theme');
        localStorage.setItem('labs-theme', t);
        // update icon name if labs-icon is available
        if (themeIcon && themeIcon.setAttribute) {
          themeIcon.setAttribute('name', t === 'dark' ? 'bedtime_off' : 'bedtime');
        }
      }
      // initialize
      applyTheme(theme);
      // wire button
      if (toggle) {
        toggle.addEventListener('click', () => {
          theme = theme === 'dark' ? 'light' : 'dark';
          applyTheme(theme);
        });
      }
    })();
  </script>
</body>

</html>