---
title: "Release: v2.4.6 — Service Worker & Docs Stability"
date: 2025-09-21
---

# v2.4.6 — Service Worker & Docs Stability (2025-09-21)

This release focuses on making local development and the GitHub Pages deployment more robust by hardening service workers, improving deployment paths, and fixing Storybook issues that caused missing assets.

Highlights
- Hardened service workers (root `sw.js`, `docs/sw.js`, per-app workers) to always return a `Response` from fetch handlers and provide navigation/asset fallbacks.
- Added a safe registration path that performs a `HEAD` check before attempting to register a worker script.
- Created `scripts/unregister-sws.js` to help recover clients stuck with broken workers.
- Fixed docs asset paths for reliable local preview (`python -m http.server`) while preserving the `update-static-paths.js` rewrite for GitHub Pages deployments.
- Resolved Storybook duplicate story id and re-synced icons so Storybook shows the proper icon set.

Deployed output
- Storybook static: `design-system/storybook-static/` (copied into `docs/design-system/` during deploy)
- Live Demo: https://dreisdesign.github.io/labs/
- Live Storybook: https://dreisdesign.github.io/labs/design-system/

Notes for developers
- When testing locally, serve the `docs/` folder on port 8000 (e.g., `python3 -m http.server 8000 --directory docs`). The docs pages now use local-relative imports so they work in local previews.
- If a client encounters stale absolute `/labs/...` asset requests, ask them to unregister service workers in DevTools or run `scripts/unregister-sws.js` (headful Puppeteer) to clear previously-registered broken workers.
- Commits touching `docs/` will still run `scripts/update-static-paths.js` (via the menu/deploy flow) to convert paths for GitHub Pages publishing.

If you see issues after pulling these changes, try clearing the browser cache and unregistering service workers for the site.
