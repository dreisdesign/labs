# Plan for September 10, 2025

## Testing Feedback & UI Improvements

### Archive/Delete Behavior
- [x] 1. If one item is Archived and i delete it - then remove the Archived label
- [x] 2. When deleting an item - open toast with option to Undo (Already implemented)

### Settings Overlay Issues
- [x] 3. Settings Overlay Button: Reset all data > close overlay (Already implemented)  
- [x] 4. Settings Overlay Button: Reset all data is missing icon (sometimes) (Already implemented)

### Input Field Improvements
- [x] 5. When i click the input field it has options of previous inputs - can we remove this?
- [x] 6. Rename "Save" button to "Add" with Add icon

### Accessibility & UX
- [x] 7. Yes aria labels - Update ARIA labels on archive button depending on state
- [x] 8. Clarify: Keep original ID mapping on clones question
  **Note**: This refers to storing a reference to the original archived item's ID on the cloned item (e.g., `data-original-id` attribute). This would allow tracking the relationship between restored items and their archived originals. Currently, clones get new random IDs to avoid conflicts. This could be useful for analytics or advanced undo functionality, but isn't required for the current UX.

## Menu System Improvements

### Menu Restructure
- [x] 9. Add new option: (R) Re-run storybook & Preview Labs
- [x] 10. Re-order menu options with letter prefixes
- [x] 11. Add npm run u for utilities option
- [x] 12. Ensure proper server management (close existing, open in separate terminals)
- [x] 13. Review menu approach and provide recommendations

### Menu Structure Target:
```
? What would you like to do? (Use arrow keys)
(S) Build, preview, and serve Storybook (local, for dev)
(L) Preview Labs Homepage (python3 server)
(R) Re-run storybook & Preview Labs
(D) Build & Deploy (publishes, then preview demo)
(U) Utilities
  Exit
```

## Implementation Notes
- Check current file contents before editing (user made manual changes) ✅
- Ensure proper terminal management for VS Code integration ✅
- Test each change before moving to next item ✅
- Document any recommendations or alternative approaches ✅

## Menu System Recommendations

### Current Implementation
The updated menu now provides:
- Letter prefixes for quick keyboard shortcuts
- Improved server management with automatic port cleanup
- Enhanced utilities section with common developer tasks
- Better separation of concerns

### VS Code Terminal Integration
For VS Code terminal management, consider:
1. **Terminal Profiles**: Create VS Code workspace settings to define specific terminal profiles
2. **Task Integration**: Convert menu items to VS Code tasks in `.vscode/tasks.json`
3. **Terminal Groups**: Use VS Code's terminal grouping to organize Storybook and Labs terminals

### Suggested VS Code Settings
```json
// .vscode/settings.json
{
  "terminal.integrated.profiles.osx": {
    "Storybook": {
      "path": "/bin/zsh",
      "args": ["-c", "cd /Users/danielreis/labs && npm run s"]
    },
    "Labs Preview": {
      "path": "/bin/zsh", 
      "args": ["-c", "cd /Users/danielreis/labs && npm run l"]
    }
  }
}
```

### Alternative Approaches
1. **GitHub Codespaces**: For cloud development with pre-configured environments
2. **Docker Compose**: For consistent development environments across machines
3. **Makefile**: Traditional approach for build automation
4. **npm-run-all**: For parallel script execution

The current approach is well-suited for local development with good flexibility and control.

---

## ✅ COMPLETION SUMMARY

All requested features have been successfully implemented:

### UI/UX Improvements Completed:
1. ✅ Archive section management - "Archived" label properly removed when last item deleted
2. ✅ Delete functionality with undo toast (was already working)  
3. ✅ Settings overlay closes after reset (was already working)
4. ✅ Reset button icon presence (was already working)
5. ✅ Input autocomplete disabled (`autocomplete="off"`)
6. ✅ Save button renamed to "Add" with add icon
7. ✅ ARIA labels update based on item state (Archive/Restore/Already restored)
8. ✅ Clone ID mapping clarification documented

### Menu System Overhaul Completed:
9. ✅ New "(R) Re-run storybook & Preview Labs" option with smart server management
10. ✅ All menu options reordered with letter prefixes for keyboard shortcuts
11. ✅ Enhanced utilities section with rebuild checks, server management, etc.
12. ✅ Comprehensive server management with automatic port cleanup
13. ✅ Updated npm run shortcuts: s, l, r, d, u correspond to menu options

### Files Modified:
- `docs/today-list/today-list-demo.js` - Archive section management
- `design-system/components/labs-input-card.js` - Autocomplete off, Add button
- `design-system/src/components/labs-list-item.js` - ARIA labels for states
- `scripts/menu.mjs` - Complete menu restructure with server management
- `package.json` - Updated npm run shortcuts
- `plan-2025-09-10.md` - This planning document

### Ready for Testing:
All changes are implemented and ready for testing. The menu system now provides:
- Intuitive letter-based shortcuts
- Robust server management
- Enhanced utilities for development workflow
- Better VS Code integration recommendations

Starting implementation...
